<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Add Pizza</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="pizzaForm" (ngSubmit)="createPizza()">

    <ion-list>
      <ion-item>
        <ion-input formControlName="name" type="text" fill="solid" label="Name of the pizza"
          labelPlacement="floating"></ion-input>
      </ion-item>

      <!-- Mostrar mensaje de error si el campo es inválido -->
      <ion-item
        *ngIf="pizzaForm.get('name')?.invalid && (pizzaForm.get('name')?.touched || pizzaForm.get('name')?.dirty)">
        <p class="error-message">El nombre es obligatorio.</p>
      </ion-item>

      <ion-radio-group formControlName="type">
        <ion-label>Type</ion-label>
        <ion-item *ngFor="let s of type">
          <ion-radio value="{{ s.id }}">{{ s.name }}</ion-radio>
        </ion-item>
      </ion-radio-group>

      <ion-item>
        <ion-input formControlName="address" type="text" fill="solid" label="Address of the pizza"
          labelPlacement="floating"></ion-input>
      </ion-item>
      <ion-item
        *ngIf="pizzaForm.get('address')?.invalid && (pizzaForm.get('address')?.touched || pizzaForm.get('address')?.dirty)">
        <p class="error-message">La dirección es obligatoria.</p>
      </ion-item>

      <ion-item>
        <ion-input formControlName="telephone" type="text" fill="solid" label="Telephone"
          labelPlacement="floating"></ion-input>
      </ion-item>
      <ion-item
        *ngIf="pizzaForm.get('telephone')?.invalid && (pizzaForm.get('telephone')?.touched || pizzaForm.get('telephone')?.dirty)">
        <p class="error-message">El teléfono es obligatorio.</p>
      </ion-item>

    </ion-list>
    <ion-button type="submit" expand="full" [disabled]="pizzaForm.invalid">Create</ion-button>
  </form>
  <ion-button expand="block" (click)="goToHome()"> Go to Home </ion-button>
</ion-content>